let buffer=[];const fetchGifs=async e=>{try{const t=await fetch(`https://api.giphy.com/v1/gifs/search?api_key=gxIFvvO71KLB9I3q3lyVmW9bc2V796qu&q=${e}&limit=25`),n=(await t.json()).data;document.getElementById("queryTitle").innerText=`"${e}"`,displayGifs(n)}catch(e){console.error("Error fetching GIFs:",e)}},displayGifs=e=>{const t=document.getElementById("carousel");t.innerHTML="",e.length>0?(e.forEach(((e,n)=>{const s=e.images.fixed_width.url,a=document.createElement("img");a.src=s,a.alt=e.title,0===n&&a.classList.add("active"),t.appendChild(a)})),startCarousel()):t.innerHTML="<p>No results found.</p>"},startCarousel=()=>{const e=document.querySelectorAll(".carousel img");let t=0;setInterval((()=>{e[t].classList.remove("active"),t=(t+1)%e.length,e[t].classList.add("active")}),3e3)},updateBuffer=e=>{buffer.push(e),document.getElementById("buffer").innerHTML=buffer.map((e=>`<div class="buffer-item">${e}</div>`)).join("")};if(document.getElementById("searchButton").addEventListener("click",(()=>{const e=document.getElementById("searchInput").value.trim();e&&(fetchGifs(e),updateBuffer(e))})),document.getElementById("searchInput").addEventListener("keydown",(e=>{if("Enter"===e.key){const e=document.getElementById("searchInput").value.trim();e&&(fetchGifs(e),updateBuffer(e))}})),annyang){const e={"*tag":e=>{fetchGifs(e),updateBuffer(e)}};annyang.addCommands(e),annyang.start({autoRestart:!0,continuous:!1})}else document.getElementById("carousel").innerHTML="<p>Your browser does not support voice recognition.</p>";